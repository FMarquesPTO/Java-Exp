/***********************************
  (c) Copyright 2020 @KalmeMarq.
  All rights reserved.
*************************************/
{
  "namespace": "mob_effects_jexp",

  "screen_content": {
    "type": "panel",
    "controls": [
      { "scroll@scrollpane_jexp.scrollpane": {
          "size": [310, "100% - 40px - 96px"],
          "offset": ["50% - 150px", 32],
          "$scrollbar_offset": ["100% - 8px", 0],
          "$scroll_cont": "scroll@mob_effects_jexp.mob_effect_grid_panel",
          "$always_handle_scrolling": true
        }
      },
      { "exit@button_jexp.button": {
          "$btn_text": "gui.done",
          "$prsd_btn_nm": "button.menu_continue",
          "offset": ["50% - 100px", "100% - 100px"]
        }
      }
    ]
  },

  /***********************************
  * Effects Grid
  ************************************/
  "mob_effect_grid_panel": {
    "type": "panel",
    "size": [310, "100%c"],
    "controls": [ { "mob_effect_grid@mob_effects_jexp.mob_effect_grid": {} } ]
  },

  "mob_effect_grid": {
    "type": "grid",
    "anchor_from": "top_right",
    "anchor_to": "top_right",
    "size": [310, "default"],
    "grid_item_template": "mob_effects_jexp.mob_effect_grid_item",
    "grid_dimension_binding": "#mob_effect_grid_size",
    "collection_name": "mob_effects_collection",
    "bindings": [ { "binding_name": "#mob_effect_grid_size" } ]
  },

  "mob_effect_grid_item": {
    "type": "panel",
    "size": [310, 31],
    "controls": [
      { "inner_content": {
          "type": "panel",
          "size": [120, 32],
          "controls": [
            { "bg@mob_effects_jexp.effect_gray_background": {} },
            { "name@mob_effects_jexp.effect_name": { "layer": 1 } },
            { "timer@mob_effects_jexp.effect_timer": { "layer": 1 } },
            { "icon@mob_effects_jexp.effect_icons": { "layer": 1 } }
          ]
        }
      }
    ]
  },

  "base_label": {
    "type": "label",
    "text_alignment": "left",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "text": "$text_bdg_nm",
    "bindings": [
      { "binding_type": "collection",
        "binding_name": "$text_bdg_nm",
        "binding_collection_name": "mob_effects_collection",
        "binding_condition": "always_when_visible"
      }
    ]
  },

  "effect_name@base_label": {
    "shadow": true,
    "offset": [28, 6],
    "$text_bdg_nm": "#mob_effect_name"
  },

  "effect_timer@base_label": {
    "offset": [28, 16],
    "$text_bdg_nm": "#mob_effect_timer",
    "color": "$dark_button_secondary_default_text_color"   
  },

 /* Not used
  "effect_icon": {
    "type": "image",
    "size": [18, 18],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "offset": [6, 7],
    "texture": "#texture",
    "bindings": [
      { "binding_type": "collection",
        "binding_name": "#texture",
        "binding_collection_name": "mob_effects_collection",
        "binding_condition": "visible"
      }
    ]
  }, */

  "effect_icons": {
    "type": "panel",
    "size": [18, 18],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "offset": [6, 7],
    "controls": [
      { "speed@mob_effects_jexp.speed": {} },
      { "absorption@mob_effects_jexp.absorption": {} },
      { "bad_omen@mob_effects_jexp.bad_omen": {} },
      { "blindness@mob_effects_jexp.blindness": {} },
      { "conduit_power@mob_effects_jexp.conduit_power": {} },
      { "dolphins_grace@mob_effects_jexp.dolphins_grace": {} },
      { "fire_resistance@mob_effects_jexp.fire_resistance": {} },
      { "haste@mob_effects_jexp.haste": {} },
      { "health_boost@mob_effects_jexp.health_boost": {} },
      { "hero_of_the_village@mob_effects_jexp.hero_of_the_village": {} },
      { "hunger@mob_effects_jexp.hunger": {} },
      { "instant_damage@mob_effects_jexp.instant_damage": {} },
      { "instant_health@mob_effects_jexp.instant_health": {} },
      { "invisibility@mob_effects_jexp.invisibility": {} },
      { "jump_boost@mob_effects_jexp.jump_boost": {} },
      { "levitation@mob_effects_jexp.levitation": {} },
      { "water_breathing@mob_effects_jexp.water_breathing": {} },
      { "mining_fatigue@mob_effects_jexp.mining_fatigue": {} },
      { "nausea@mob_effects_jexp.nausea": {} },
      { "night_vision@mob_effects_jexp.night_vision": {} },
      { "poison@mob_effects_jexp.poison": {} },
      { "regeneration@mob_effects_jexp.regeneration": {} },
      { "resistance@mob_effects_jexp.resistance": {} },
      { "saturation@mob_effects_jexp.saturation": {} },
      { "slow_falling@mob_effects_jexp.slow_falling": {} },
      { "strength@mob_effects_jexp.strength": {} },
      { "slowness@mob_effects_jexp.slowness": {} },
      { "weakness@mob_effects_jexp.weakness": {} },
      { "wither@mob_effects_jexp.wither": {} }
    ]
  },

  "effect_icon": {
    "type": "image",
    "size": [18, 18],
    "texture": "('assets/minecraft/textures/mob_effect/' + $txr)",
    "bindings": [
      { "binding_type": "collection",
        "binding_name": "$txr_bdg",
        "binding_collection_name": "mob_effects_collection",
        "binding_name_override": "#visible"
      }
    ]
  },

  "speed@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/speed_effect')", "$txr": "speed" },
  "absorption@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/absorption_effect')", "$txr": "absorption" },
  "bad_omen@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/bad_omen_effect')", "$txr": "bad_omen" },
  "blindness@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/blindness_effect')", "$txr": "blindness" },
  "conduit_power@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/conduit_power_effect')", "$txr": "conduit_power" },
  "dolphins_grace@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/dolphins_grace_effect')", "$txr": "dolphins_grace" },
  "fire_resistance@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/fire_resistance_effect')", "$txr": "fire_resistance" },
  "haste@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/haste_effect')", "$txr": "haste" },
  "health_boost@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/health_boost_effect')", "$txr": "health_boost" },
  "hero_of_the_village@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/village_hero_effect')", "$txr": "hero_of_the_village" },
  "hunger@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/hunger_effect')", "$txr": "hunger" },
  "instant_damage@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/instant_damage_effect')", "$txr": "instant_damage" },
  "instant_health@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/instant_health_effect')", "$txr": "instant_health" },
  "invisibility@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/invisibility_effect')", "$txr": "invisibility" },
  "jump_boost@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/jump_boost_effect')", "$txr": "jump_boost" },
  "levitation@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/levitation_effect')", "$txr": "levitation" },
  "water_breathing@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/water_breathing_effect')", "$txr": "water_breathing" },
  "mining_fatigue@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/mining_fatigue_effect')", "$txr": "mining_fatigue" },
  "nausea@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/nausea_effect')", "$txr": "nausea" },
  "night_vision@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/night_vision_effect')", "$txr": "night_vision" },
  "poison@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/poison_effect')", "$txr": "poison" },
  "regeneration@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/regeneration_effect')", "$txr": "regeneration" },
  "resistance@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/resistance_effect')", "$txr": "resistance" },
  "saturation@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/saturation_effect')", "$txr": "saturation" },
  "slow_falling@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/slow_falling_effect')", "$txr": "slow_falling" },
  "slowness@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/slowness_effect')", "$txr": "slowness" },
  "strength@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/strength_effect')", "$txr": "strength" },
  "weakness@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/weakness_effect')", "$txr": "weakness" },
  "wither@mob_effects_jexp.effect_icon": { "$txr_bdg": "(#texture = 'textures/ui/wither_effect')", "$txr": "wither" },

  /***********************************
  * Textures
  ************************************/
  "effect_gray_background@screen_jexp.res_txr": {
    "texture": "assets/minecraft/textures/gui/container/inventory",
    "size": [120, 32],
    "$uv": [0, 166],
    "$uv_sz": [120, 32],
    "variables": [
      { "requires": "($inventory_res = 512x)", "$uv": [0, 332], "$uv_sz": [240, 64] },
      { "requires": "($inventory_res = 1024x)", "$uv": [0, 664], "$uv_sz": [480, 128] },
      { "requires": "($inventory_res = 2048x)", "$uv": [0, 1328], "$uv_sz": [960, 256] },
      { "requires": "($inventory_res = 4096x)", "$uv": [0, 2652], "$uv_sz": [1920, 512] }
    ]
  }
}